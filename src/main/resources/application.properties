spring.application.name=demo

# --- CONFIGURACIÓN DEL PUERTO ---
# Render usa la variable PORT. Tu PC usará el 8080.
server.port=${PORT:8080}

# --- CONFIGURACIÓN DE BASE DE DATOS (Híbrida) ---

# 1. URL DE CONEXIÓN
# En Render: Usará la variable SPRING_DATASOURCE_URL que inyecta la plataforma.
# En Local: Usará jdbc:postgresql://localhost:5432/as_ventas
# NOTA: PostgreSQL usa el puerto 5432 por defecto (MySQL usaba 3306).
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5433/as_ventas}

# 2. USUARIO
# En Render: Usará el usuario que asigne la nube.
# En Local: Por defecto Postgres crea el usuario 'postgres' (en MySQL era 'root').
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}

# 3. CONTRASEÑA
# OJO AQUÍ: Cambia 'tu_password_local' por la contraseña que pongas al instalar Postgres.
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:admin}

# 4. DRIVER
# Le decimos explícitamente que use el driver de PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# --- CONFIGURACIÓN JPA / HIBERNATE ---
# update: Creará las tablas automáticamente si no existen.
spring.jpa.hibernate.ddl-auto=update

# Ver las consultas SQL en la consola (útil para depurar)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Importante: Decirle a Hibernate que hable el "dialecto" de Postgres, no de MySQL
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect